<!DOCTYPE html>
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <script type="text/javascript" src="jquery-1.11.3.min.js"></script>
        <script type="text/javascript">
            $(document).ready(function() {
                var menu = $(".menu");
                var posizione = menu.position();
                // intercettiamo qui l'evento "scroll"                 
                $(window).scroll(function() {
                  // "$(window).scrollTop()" ci dice di quanto abbiamo scrollato la pagina
                  if ($(window).scrollTop() >= posizione.top) {
                    // abbiamo scrollato oltre il div, dobbiamo bloccarlo
                    $(".menu").addClass("menu_scroll").animate({
                        "position": "fixed",
                        "top":"0px",
                        "display":"block",
                        "z-index": "2"
                    },1000);
                  } else {
                    // abbiamo scrollato verso l'alto, sopra il div, possiamo sbloccarlo
                    $(".menu").removeClass("menu_scroll"); 
                  }
                });
            });
        </script>
        <style type="text/css">
            *{
                padding: 0px;
                margin: 0px;
            }
            
            #intestazione{
                height: 100px;
                width: 100%;
            }
            
            #tutto{
                width:100%;
                height: 3000px;
                background-color: gold;
            }
            
            .menu{
                position: absolute;
                width: 100%;
                height: 30px;
                top:101px;
                background-color: red;
            }
            
            .menu_scroll{
                position: fixed;
                top:0px;
                display:block;
                z-index: 2;
            }
        </style>
    </head>
    <body>
        <div id="tutto">
            <div id="intestazione">
                
            </div>
            <div class="menu">
                daniele
            </div>
            <div id="ciao"></div>
        </div>
    </body>
</html>
